"use strict";(self["webpackChunksmartbook_turkey_syria_earthquake"]=self["webpackChunksmartbook_turkey_syria_earthquake"]||[]).push([[271],{271:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var l=t(641),s=t(751),o=t(33);const n={class:"analysis-pages-view"},r={class:"search-bar"},c={class:"category-filter"},i=["onClick"],g={class:"pages-grid"},d={class:"category"},u=["onClick"],h=["innerHTML"];function y(e,a,t,y,C,k){return(0,l.uX)(),(0,l.CE)("div",n,[a[5]||(a[5]=(0,l.Lk)("h1",null,"Analysis Pages",-1)),(0,l.Lk)("div",r,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>C.searchQuery=e),type:"text",placeholder:"Search analysis pages...",class:"search-input",onInput:a[1]||(a[1]=(...e)=>k.filterPages&&k.filterPages(...e))},null,544),[[s.Jo,C.searchQuery]])]),(0,l.Lk)("div",c,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(C.categories,e=>((0,l.uX)(),(0,l.CE)("button",{key:e,onClick:a=>C.selectedCategory=e,class:(0,o.C4)(["category-btn",{active:C.selectedCategory===e}])},(0,o.v_)(e)+" ("+(0,o.v_)(k.getCategoryCount(e))+") ",11,i))),128))]),(0,l.Lk)("div",g,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(C.filteredPages,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.filename,class:"page-item"},[(0,l.Lk)("h3",null,(0,o.v_)(e.title),1),(0,l.Lk)("p",d,(0,o.v_)(e.category),1),(0,l.Lk)("button",{onClick:a=>k.loadPage(e.filename),class:"load-btn"},"View Analysis",8,u)]))),128))]),C.selectedPageContent?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[4]||(a[4]=(...e)=>k.closeModal&&k.closeModal(...e))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[3]||(a[3]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>k.closeModal&&k.closeModal(...e)),class:"close-btn"},"Ã—"),(0,l.Lk)("div",{innerHTML:C.selectedPageContent,class:"content"},null,8,h)])])):(0,l.Q3)("",!0)])}var C=t(572);const k={name:"AnalysisPages",data(){return{allPages:[],filteredPages:[],selectedCategory:"All",searchQuery:"",selectedPageContent:null,categories:["All"]}},async mounted(){this.allPages=await C.A.getAllPages(),this.filteredPages=this.allPages;const e=[...new Set(this.allPages.map(e=>e.category))];this.categories=["All",...e.sort()]},methods:{filterPages(){let e=this.allPages;"All"!==this.selectedCategory&&(e=e.filter(e=>e.category===this.selectedCategory)),this.searchQuery.trim()&&(e=C.A.searchPages(e,this.searchQuery)),this.filteredPages=e},getCategoryCount(e){return"All"===e?this.allPages.length:this.allPages.filter(a=>a.category===e).length},async loadPage(e){try{const a=await C.A.loadPageContent(e);this.selectedPageContent=C.A.markdownToHtml(a)}catch(a){console.error("Error loading page:",a),this.selectedPageContent="<p>Error loading page content. Please try again.</p>"}},closeModal(){this.selectedPageContent=null}},watch:{selectedCategory(){this.filterPages()}}};var P=t(262);const p=(0,P.A)(k,[["render",y],["__scopeId","data-v-4c1af378"]]),v=p}}]);
//# sourceMappingURL=271.bd80873c.js.map