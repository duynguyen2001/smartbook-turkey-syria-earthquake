"use strict";(self["webpackChunksmartbook_turkey_syria_earthquake"]=self["webpackChunksmartbook_turkey_syria_earthquake"]||[]).push([[817],{198:(e,a,t)=>{t.r(a),t.d(a,{default:()=>T});var s=t(641),l=t(751),i=t(33);const n={class:"home-view"},r={class:"search-section"},c={class:"search-container"},o={class:"search-stats"},g={class:"category-filter"},d=["onClick"],u={class:"pages-grid"},h={class:"page-header"},P={class:"page-title"},k={class:"page-actions"},y=["onClick"],C={key:0,class:"pagination"},p=["disabled"],v={class:"page-info"},f=["disabled"],L={class:"modal-header"},m={class:"modal-body"},b=["innerHTML"];function _(e,a,t,_,A,w){return(0,s.uX)(),(0,s.CE)("div",n,[a[8]||(a[8]=(0,s.Lk)("div",{class:"header"},[(0,s.Lk)("h1",null,"SmartBook Analysis Platform"),(0,s.Lk)("p",{class:"subtitle"},"Interactive analysis and visualization of critical events and topics")],-1)),(0,s.Lk)("div",r,[(0,s.Lk)("div",c,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>A.searchQuery=e),type:"text",placeholder:"Search analysis pages...",class:"search-input",onInput:a[1]||(a[1]=(...e)=>w.filterPages&&w.filterPages(...e))},null,544),[[l.Jo,A.searchQuery]]),(0,s.Lk)("div",o," Showing "+(0,i.v_)(A.filteredPages.length)+" of "+(0,i.v_)(A.allPages.length)+" pages ",1)])]),(0,s.Lk)("div",g,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(A.categories,e=>((0,s.uX)(),(0,s.CE)("button",{key:e,onClick:a=>A.selectedCategory=e,class:(0,i.C4)(["category-btn",{active:A.selectedCategory===e}])},(0,i.v_)(e)+" ("+(0,i.v_)(w.getCategoryCount(e))+") ",11,d))),128))]),(0,s.Lk)("div",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(w.paginatedPages,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.filename,class:"page-card"},[(0,s.Lk)("div",h,[(0,s.Lk)("span",{class:(0,i.C4)(["category-badge",w.getCategoryClass(e.category)])},(0,i.v_)(e.category),3)]),(0,s.Lk)("h3",P,(0,i.v_)(e.title),1),(0,s.Lk)("div",k,[(0,s.Lk)("button",{onClick:a=>w.loadPage(e.filename),class:"view-btn"},[...a[7]||(a[7]=[(0,s.Lk)("i",{class:"icon"},"📄",-1),(0,s.eW)(" View Analysis ",-1)])],8,y)])]))),128))]),w.totalPages>1?((0,s.uX)(),(0,s.CE)("div",C,[(0,s.Lk)("button",{onClick:a[2]||(a[2]=e=>A.currentPage=Math.max(1,A.currentPage-1)),disabled:1===A.currentPage,class:"page-btn"}," ← Previous ",8,p),(0,s.Lk)("span",v," Page "+(0,i.v_)(A.currentPage)+" of "+(0,i.v_)(w.totalPages),1),(0,s.Lk)("button",{onClick:a[3]||(a[3]=e=>A.currentPage=Math.min(w.totalPages,A.currentPage+1)),disabled:A.currentPage===w.totalPages,class:"page-btn"}," Next → ",8,f)])):(0,s.Q3)("",!0),A.selectedPageContent?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"modal-overlay",onClick:a[6]||(a[6]=(...e)=>w.closeModal&&w.closeModal(...e))},[(0,s.Lk)("div",{class:"modal-content",onClick:a[5]||(a[5]=(0,l.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",L,[(0,s.Lk)("h2",null,(0,i.v_)(A.selectedPageTitle),1),(0,s.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>w.closeModal&&w.closeModal(...e)),class:"close-btn"},"×")]),(0,s.Lk)("div",m,[(0,s.Lk)("div",{innerHTML:A.selectedPageContent,class:"content"},null,8,b)])])])):(0,s.Q3)("",!0)])}var A=t(572);const w={name:"Home",data(){return{allPages:[],filteredPages:[],selectedCategory:"All",searchQuery:"",selectedPageContent:null,selectedPageTitle:"",categories:["All"],currentPage:1,pageSize:12}},computed:{paginatedPages(){const e=(this.currentPage-1)*this.pageSize,a=e+this.pageSize;return this.filteredPages.slice(e,a)},totalPages(){return Math.ceil(this.filteredPages.length/this.pageSize)}},async mounted(){this.allPages=await A.A.getAllPages(),this.filteredPages=this.allPages;const e=[...new Set(this.allPages.map(e=>e.category))];this.categories=["All",...e.sort()]},methods:{filterPages(){let e=this.allPages;"All"!==this.selectedCategory&&(e=e.filter(e=>e.category===this.selectedCategory)),this.searchQuery.trim()&&(e=A.A.searchPages(e,this.searchQuery)),this.filteredPages=e,this.currentPage=1},getCategoryCount(e){return"All"===e?this.allPages.length:this.allPages.filter(a=>a.category===e).length},getCategoryClass(e){return e.includes("Turkey")||e.includes("Earthquake")?"earthquake":e.includes("Ukraine")?"ukraine":e.includes("COVID")?"covid":"general"},async loadPage(e){try{const a=await A.A.loadPageContent(e);this.selectedPageContent=A.A.markdownToHtml(a),this.selectedPageTitle=this.allPages.find(a=>a.filename===e)?.title||"Analysis"}catch(a){console.error("Error loading page:",a),this.selectedPageContent="<p>Error loading page content. Please try again.</p>",this.selectedPageTitle="Error"}},closeModal(){this.selectedPageContent=null,this.selectedPageTitle=""}},watch:{selectedCategory(){this.filterPages()}}};var E=t(262);const M=(0,E.A)(w,[["render",_],["__scopeId","data-v-2eb23546"]]),T=M}}]);
//# sourceMappingURL=817.9d6c4e45.js.map